<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <title>Local nCode</title>
    <style>
    @import url(https://fonts.googleapis.com/css?family=VT323);

	.hide {
		display: none;
	}

@keyframes scroll {
	0% { height: 0 }
	100% { height: 100%; }
}

@keyframes type {
  from { width: 0; }
}

@keyframes type2 {
  0%{width: 0;}
  50%{width: 0;}
  100%{ width: 100; }
}

@keyframes blink {
  to{opacity: .0;}
}

@keyframes scan {
	from { top: 0 }
	to { top: 100% }
}

@keyframes flicker {
		0% { opacity: 0.15795 }
		5% { opacity: 0.31511 }
		10% { opacity: 0.94554 }
		15% { opacity: 0.2469 }
		20% { opacity: 0.62031 }
		25% { opacity: 0.0293 }
		30% { opacity: 0.00899 }
		35% { opacity: 0.5344 }
		40% { opacity: 0.12778 }
		45% { opacity: 0.52042 }
		50% { opacity: 0.3823 }
		55% { opacity: 0.2198 }
		60% { opacity: 0.9383 }
		65% { opacity: 0.86615 }
		70% { opacity: 0.68695 }
		75% { opacity: 0.55749 }
		80% { opacity: 0.96984 }
		85% { opacity: 0.0361 }
		90% { opacity: 0.24467 }
		95% { opacity: 0.08351 }
		100% { opacity: 0.54813 }
	}

* {
	box-sizing: border-box;
	}

html,
body {
	background: #383838;
	color: #00dd00;
	font-size: 64.5%;
	font-size: 1.4em;
	font-family: 'VT323', Courier, monospace; /* Ensure monospace font */
	height: 100%;
	margin: 0;
	padding: 0;
}

h1, h2, h3 h4, h5, h6 {
	font-weight: normal;
	margin: 0;
	text-transform: uppercase;
}

a {
	color: white;
	text-decoration: none;
}

a:hover {
	color: red;
}

p {
	line-height: 100%;
	margin: 0;
}

/* span { animation: blink 1s infinite } */ /* Original global blink, might conflict. Typed text span will have animation:none */

ul {
	list-style: none;
}

ul a:before,
p a:before {
	color: #00dd00;
	content: ' [ ';
}

ul a:after,
p a:after {
	color: #00dd00;
	content: ' ] ';
}

header.site {
	margin: 0 0 40px 0;
	text-transform: uppercase;
}

nav.site {
	margin: 0 0 40px 0;
  width: 100%;
}

nav.site ul {
	padding: 0;
}

nav.site ul li {
	display: inline-block;
  padding: 0 10px;
  min-width: 250px;
  width: auto;
}

.overlay {
	height: 1px;
	position: absolute;
	top: 0;
	left: 0;
	width: 1px;
}

.overlay:before {
	background: linear-gradient(#101010 50%, rgba(16, 16, 16, 0.2) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.03), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.03));
	background-size: 100% 3px, 6px 100%;
	content: "";
	display: block;
	pointer-events: none;
	position: fixed;
		top: 0;
		right: 0;
		bottom: 0;
		left: 0;
	z-index: 2;
}

.overlay:after {
	animation: flicker 0.30s infinite;
	background: rgba(16, 16, 16, 0.2);
	content: "";
	display: block;
	pointer-events: none;
	position: fixed;
		top: 0;
		right: 0;
		bottom: 0;
		left: 0;
	z-index: 2;
}

.col {
	float: left;
	padding: 0 20px;
}

.col.two { width: auto; }

.wrapper {
  animation: scroll 5s 1;
  margin: 0;
  overflow: hidden;
  padding: 0;
}

.content {
	animation: scroll 3s 1;
  overflow: hidden;
	padding: 40px;
	position: relative;
	width: 95%;
}

#logo-v {
	display: block;
	height: auto;
	margin: 0 auto;
	width: 200px;
}

img.pip-hero {
	display: block;
	float: left;
	height: auto;
	margin: 5px 10px 5px 0;
	width: 120px;
}

form {}

/* Global label, input, textarea styles - will be overridden by more specific rules below */
label {
	clear: left;
	display: block;
	float: left;
	margin-right: 10px;
	padding-top: 5px;
}

input[type=text],
textarea {
	background: transparent;
	border: none;
	color: #00dd00; /* Default green color */
	display: block;
	float: left;
	font-family: 'VT323', Courier, monospace; /* Ensure monospace font */
	font-size: 1.2em;
	position: relative;
	width: 80%;
	z-index: 10
}

textarea {
	margin-bottom: 20px;
	overflow: auto;
	resize: none;
}

input[type=text]:focus,
textarea:focus,
input[type=submit]:focus,
a.button:focus, button:focus {
	outline: 0;
}

input[type=submit],
a.button, button {
	background: transparent;
	border: 1px solid #00dd00;
	clear: both;
	color: #00dd00;
	cursor: pointer; /* Changed from hand */
	display: inline-block;
	font-family: 'VT323', Courier, monospace;
	font-size: 1em;
	margin-bottom: 20px;
	opacity: 0.25;
	padding: 10px 100px; /* Original wide padding */
	position: relative;
	text-decoration: none;
	text-transform: uppercase;
	z-index: 10;
}

input[type=submit]:hover,
a.button:hover, button:hover {
	background: #00dd00;
	color: #383838;
	opacity: 0.8;
}

.expandingArea { position: relative }

.scanline {
	animation: scroll 10s 5s infinite;
	background: -moz-linear-gradient(top,  rgba(0,221,0,0) 0%, rgba(0,221,0,1) 50%, rgba(0,221,0,0) 100%);
	background: -webkit-linear-gradient(top,  rgba(0,221,0,0) 0%,rgba(0,221,0,1) 50%,rgba(0,221,0,0) 100%);
	background: linear-gradient(to bottom,  rgba(0,221,0,0) 0%,rgba(0,221,0,1) 50%,rgba(0,221,0,0) 100%);
	filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#0000dd00', endColorstr='#0000dd00',GradientType=0 );
	display: block;
	height: 20px;
	opacity: 0.05;
	position: absolute;
		left: 0;
		right: 0;
		top: -5%;
	z-index: 2;
}

.clear {
	clear: both;
}

.clearfix {
  overflow: auto;
  zoom: 1;
}

.upper { text-transform: uppercase; }

    /* --- START OF NEW/MODIFIED STYLES FOR goodLuck DIV --- */

    /* Terminal styling for textarea and password input within .goodLuck #nCode */
    .goodLuck #nCode textarea.textEncodeInput,
    .goodLuck #nCode input.passwordEncodeInput {
        background-color: #0A0A0A; /* Very dark background */
        color: #00FF00;           /* Bright green text */
        font-family: 'VT323', Courier, monospace;
        font-size: 1.2em;
        border: 1px solid #008F00; /* Darker green border */
        padding: 10px;
        margin-bottom: 1em;       /* Keep original margin */
        width: 100%;              /* Full width of container */
        box-sizing: border-box;   /* Include padding and border in width */
        box-shadow: 0 0 5px rgba(0, 255, 0, 0.2); /* Subtle green glow */
        outline: none;            /* Remove default focus outline */
        caret-color: #00FF00;     /* Green blinking cursor in input */
        float: none;              /* Override existing float if any */
        display: block;           /* Ensure they are block elements */
    }

    .goodLuck #nCode textarea.textEncodeInput {
        min-height: 120px;        /* Give it some decent height */
        resize: none;             /* Disable user resizing */
        overflow-y: auto;         /* Show scrollbar when needed */
    }

    /* Webkit scrollbar styling for the textarea */
    .goodLuck #nCode textarea.textEncodeInput::-webkit-scrollbar {
        width: 10px;
    }

    .goodLuck #nCode textarea.textEncodeInput::-webkit-scrollbar-track {
        background: #0A0A0A; /* Scrollbar track to match input background */
    }

    .goodLuck #nCode textarea.textEncodeInput::-webkit-scrollbar-thumb {
        background-color: #00FF00; /* Green scrollbar thumb */
        border-radius: 3px;
        border: 1px solid #008F00; /* Darker green border for thumb */
    }
    
    /* Firefox scrollbar styling */
    .goodLuck #nCode textarea.textEncodeInput {
        scrollbar-width: thin;
        scrollbar-color: #00FF00 #0A0A0A; /* thumb and track */
    }


    /* Style labels to fit the theme */
    .goodLuck #nCode label.encodeLabel,
    .goodLuck #nCode label.passwordLabel {
        color: #00FF00; /* Green label text */
        font-family: 'VT323', Courier, monospace;
        display: block;     /* Make labels take full width */
        margin-bottom: 8px; /* Space below label */
        float: none;        /* Override existing float */
        margin-right: 0;    /* Reset original margin */
        padding-top: 0;     /* Reset original padding */
    }

    /* Styling for the result paragraph and typing animation */
    .goodLuck #nCode .result {
        font-family: 'VT323', Courier, monospace;
        color: #00FF00;       /* Green text for result */
        line-height: 1.4;     /* Improve readability */
        min-height: 1.4em;    /* Ensure space for cursor even if result is empty */
        word-wrap: break-word;/* Break long strings */
        margin-top: 10px;     /* Space above result */
    }

    /* This span holds the typed text, ensure it doesn't pick up global span animations */
    #typed-text {
        animation: none !important; /* Override global span animation if any */
        display: inline;            /* Keep it inline with cursor */
    }

    .typing-cursor {
        display: inline-block;
        background-color: #00FF00; /* Green cursor block */
        width: 0.6em;              /* Width of the cursor block */
        height: 1.1em;             /* Height of the cursor block, relative to font size */
        margin-left: 2px;          /* Small space after text */
        animation: cursor-blink 0.8s step-end infinite;
        vertical-align: baseline;  /* Align cursor with text baseline */
    }

    @keyframes cursor-blink {
      0%, 100% { opacity: 1; }
      50% { opacity: 0; }
    }

    /* Adjust button styles within .goodLuck #nCode for the hacker theme */
    .goodLuck #nCode button {
        background: #111;        /* Dark background for buttons */
        border: 1px solid #00FF00;/* Green border */
        color: #00FF00;          /* Green text */
        font-family: 'VT323', Courier, monospace;
        text-transform: uppercase;
        padding: 10px 20px;     /* Adjusted padding */
        margin: 10px 5px 15px 0;  /* Adjusted margin */
        cursor: pointer;
        transition: background-color 0.2s, color 0.2s;
        opacity: 1;             /* Ensure full opacity, override general rule */
        float: none;            /* Override float if any */
        clear: none;            /* Override clear if any */
    }

    .goodLuck #nCode button:hover {
        background: #00FF00;    /* Green background on hover */
        color: #111;            /* Dark text on hover */
        opacity: 1;             /* Ensure full opacity */
    }
    
    .goodLuck #nCode h1, .goodLuck #nCode h3 {
        color: #00FF00; /* Ensure headings are green */
        margin-bottom: 10px;
    }
    .goodLuck #nCode .copymessage {
        color: #00FF00; /* Ensure copy message is green */
        font-family: 'VT323', Courier, monospace;
        min-height: 1.2em; /* Reserve space */
        margin-top: 5px;
    }

    /* --- END OF NEW/MODIFIED STYLES FOR goodLuck DIV --- */

    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.2.0/crypto-js.min.js" integrity="sha512-a+SUDuwNzXDvz4XrIcXHuCf089/iJAoN4lmrXJg18XnduKK6YlDHNRalv4yd1N40OKI80tFidF+rqTFKGPoWFQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

</head>
<body>
  <div class="overlay"></div>
  <div class="scanline"></div>
  <section class="screen">
  <div class="" id="loading" style="overflow-y: auto;">
    <button id="skipLoading" style="position: fixed; top: 10px; right: 10px; z-index: 999;">Skip</button>
    <span id="loadingText"></span> 
  </div>
  <div class="hide" id="allContent">
  <div class="wrapper">
    <div class="content clearfix">
      <header class="site clearfix">
      <div class="col one">
          <p>Demicube, INC</p>
      <img src="assets/demicube.png" width="740" height="729" id="logo-v" />
      </div>
          <div class="col two">
              <h4>Demicube, INC (tm) <br /> <b>H</b>ash <b>E</b>ncrypted <b>R</b>eal-Time <b>O</b>perating <b>S</b>ystem (HEROS)</h4>
              <p>----------------------------------------</p>
              <p>HEROS v 1.0.0</p>
              <p>(c)2021 Demicube</p>
              <p>- CONNECTED -</p><br>
            <p>System Developer(s) (SYSDEVS) - S. Miller</p>
            <p>Full Stack(s) (WEBDEVS) - A. Mitchell</p>
            <p>Cascading Styler Inspired by M. Richardson</p>
          </div>
      </header>
      <p class="clear"><br /></p>
      <p>Welcome to the Hash Encrypted Real-Time Operating System (HEROS). <br>Fill out the fields below to Encrypt or Decrypt your data. There is no way to recover encrypted data without the password, and there is no password recovery. Version or algorithm change may render encrypted data lost. Goodluck.</p><br />

      <div class="goodLuck">
        <div class="" id="nCode"> <h1>Encode or Decode your string</h1>
        <label class="encodeLabel">String to Encode</label>
        <textarea class="textEncodeInput" id="str" type="text" style="border-bottom: solid; margin-bottom: 1em;"></textarea>
        <label class="passwordLabel">Password</label>
        <input class="passwordEncodeInput" id="pass" type="text" style="border-bottom: solid; margin-bottom: 1em;">
        <button id="encodeButton">Encode</button>
        <button id="decodeButton">Decode</button>
        <br>
        <button id="copyBtn">Copy to clipboard</button>
        <button id="clearBtn">Clear</button>
        <button class="skip-animation-button" style="display: none;">Finish Result</button>
        <h3>Result:</h3>
        <br>
        <p class="copymessage" id=""></p> <p class="result" id=""></p> </div>
      </div>

    </div>
	</div>
  </div>
  </section>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script>
      var loadtxt = [".",".",".",".",".",".","LOADING",".",".",".","<br>","nCode.exe", "<br>", "$npx create-runtime-environment nCode","<br>",".",".",".",".",".",".","searching for dependencies",
  "<br>","@testing-library/jest-dom","<br>","@testing-library/dictionary","<br>","@hack-repo/forceSHA256","<br>","@hack-repo/bruteforce","<br>","@hack-repo/goldHash","<br>","@hack-repo/timingAttack.exe","<br>","import util.hax.sha256","<br>","import util.hax.dictionary","<br>","import cracked.exe","<br>","import util.hax.malwareShell","<br>","import util.crypto.miningBot","<br>","import util.crypto.cpuOverride","<br>","crypto.setCPU(100%)","<br>","crypto.pointTo(remote.BTCaddress)","<br>","crypto.preventDefault(user.shutDown)","<br>","crypto.preventDefault(window.close)","<br>",
  "__________________________s$______________s","<br>",
  "_________________________.s$$_____________s$","<br>",
  "________________________s$$$’____________s$$","<br>",
  "______________________.s$$$³´_______,___s$$³","<br>",
  "_____________________s$$$$³______.s$’___$$³","<br>",
  "________________,____$$$$$.______s$³____³$","<br>",
  "________________$___$$$$$$s_____s$³_____³","<br>",
  "_______________s$___‘³$$$$$$s___$$$","<br>",
  "_______________$$____³$$$$$$s.__³$$s","<br>",
  "_______________³$.____³$$$$$$$s_.s$$$____s´","<br>",
  "_______________`$$.____³$$$$$$$_$$$$___s³","<br>",
  "________________³$$s____³$$$$$$s$$$³__s$’","<br>",
  "_________________³$$s____$$$$$s$$$$’__s$$","<br>",
  "_____________`s.__$$$$___s$$$$$$$$³_.s$$³__s","<br>",
  "______________$$_s$$$$..s$$$$$$$$$$$$$$³__s$","<br>",
  "______________s$.s$$$$s$$$$$$$$$$$$$$$$_s$$","<br>",
  "_____________s$$$$$$$$$$$$$$$$$$$$$$$$$$$³","<br>",
  "____________s$$$ssss$$$$$$$$$$$$$ssss$$$$$´","<br>",
  "_______________________Fire.exe____________","<br>",
  "loading(Water, 30);","<br>",
  "use(Water, 10/2ms);","<br>",
  "dousing Fire.exe",".",".",".",".",".",".","Complete","<br>",
  "$npx install: nCode.exe","<br>",
  "$npx run: nCode.exe"]

  // var loadtxt1 = ["LOADING.......","nCode.exe",  "$npx create-runtime-environment nCode.......","searching for dependencies",
  // "@testing-library/jest-dom","@testing-library/dictionary","@hack-repo/forceSHA256","@hack-repo/bruteforce","@hack-repo/goldHash","@hack-repo/timingAttack.exe","import util.hax.sha256","import util.hax.dictionary","import cracked.exe","import util.hax.malwareShell","import util.crypto.miningBot","import util.crypto.cpuOverride","crypto.setCPU(100%)","crypto.pointTo(remote.BTCaddress)","crypto.preventDefault(user.shutDown)","crypto.preventDefault(window.close)",
  // "__________________________s$______________s",
  // "_________________________.s$$_____________s$",
  // "________________________s$$$’____________s$$",
  // "______________________.s$$$³´_______,___s$$³",
  // "_____________________s$$$$³______.s$’___$$³",
  // "________________,____$$$$$.______s$³____³$",
  // "________________$___$$$$$$s_____s$³_____³",
  // "_______________s$___‘³$$$$$$s___$$$",
  // "_______________$$____³$$$$$$s.__³$$s",
  // "_______________³$.____³$$$$$$$s_.s$$$____s´",
  // "_______________`$$.____³$$$$$$$_$$$$___s³",
  // "________________³$$s____³$$$$$$s$$$³__s$’",
  // "_________________³$$s____$$$$$s$$$$’__s$$",
  // "_____________`s.__$$$$___s$$$$$$$$³_.s$$³__s",
  // "______________$$_s$$$$..s$$$$$$$$$$$$$$³__s$",
  // "______________s$.s$$$$s$$$$$$$$$$$$$$$$_s$$",
  // "_____________s$$$$$$$$$$$$$$$$$$$$$$$$$$$³",
  // "____________s$$$ssss$$$$$$$$$$$$$ssss$$$$$´",
  // "_______________________Fire.exe____________",
  // "loading(Water, 30);",
  // "use(Water, 10/2ms);",
  // "dousing Fire.exe...........","Complete",
  // "$npx install: nCode.exe",
  // "$npx run: nCode.exe"]


var startTimer; // Declare startTimer in a broader scope to be accessible for clearing

function load() {
  var time = loadtxt.length;
  var array = loadtxt;
  var i = 0;
  
  // Clear any existing interval to prevent multiple timers if load() is called again
  clearInterval(startTimer); 

  startTimer = setInterval(function() {
    if (i <= 16) {
      $("#loadingText").append(array[i]); // Append to the new span
      i++;
    } else if (i > 16 && i < 35) {
      for (let j = i; j < 35; j++) {
        $("#loadingText").append(array[i]); // Append to the new span
        i++;
      }
    } else if (i >= 35 && i < 53) {
      $("#loadingText").append(array[i]); // Append to the new span
      i++;
    } else if (i >= 53 && i < 80) {
      for (let l = i; l < 80; l++) {
        $("#loadingText").append(array[i]); // Append to the new span
        i++;
      }
    } else if (i >= 80 && i < time) {
      $("#loadingText").append(array[i]); // Append to the new span
      i++;
    }

    if (i >= time) {
      skipLoadingAnimation(); // Call the skip function when animation naturally ends
    }
    $("html, body").animate({
      scrollTop: $(document).height()
    }, "fast");
  }, 200);
}

// Function to handle skipping the animation
function skipLoadingAnimation() {
  clearInterval(startTimer); // Stop the animation
  $("#loading").addClass("hide");
  $("#allContent").removeClass("hide");
  // Ensure the scroll happens even if skipped early
  $("html, body").animate({
    scrollTop: $(document).height()
  }, "slow"); 
}


// Add event listener for the skip button
$(document).ready(function() {
  $("#skipLoading").on("click", function() {
    skipLoadingAnimation();
  });

  // Call your load function when the document is ready
  load(); 
});



//   function load() {
//   var time = loadtxt.length;
//   var array = loadtxt;
//   var i = 0;
//   var startTimer = setInterval(function(){
//   if (i<=16) {
//       $("#loading").append(array[i]);
//       i++;
//   } else if (i>16 && i < 35) {
//       for (let j = i; j < 35; j++) {
//         $("#loading").append(array[i]);
//         i++;
//       }
//     } else if (i>=35&& i<53) {
//       $("#loading").append(array[i]);
//       i++;
//   } else if(i>=53 && i<80) {
//       for (let l = i; l < 80; l++) {
//         $("#loading").append(array[i]);
//         i++;
//       }
//     } else if (i>=80 && i<time) {
//         $("#loading").append(array[i]);
//       i++;
//       }
//       if (i>=time) {
//         clearInterval(startTimer);
//       setTimeout(function(){
//         $("#loading").addClass("hide");
//         $("#allContent").removeClass("hide");
// 	}, 1000);
//       setTimeout(function(){
//       $("html, body").animate({ scrollTop: $(document).height() }, "slow");
// 	}, 2000);
//       }
//         $("html, body").animate({ scrollTop: $(document).height() }, "fast");
//     }, 200);
// }

// function load() {
//     var loadingDiv = $("#loading"); // The div where the loading text appears
//     var lines = loadtxt1; // Your array of loading text lines
//     let lineIndex = 0; // Current index of the line to type
//     let charIndex = 0; // Current character index within the current line
//     const speed = 5; // Typing speed in milliseconds for characters
//     const lineDelay = 10; // Delay in milliseconds between lines

//     // Clear any previous content in the loading div
//     loadingDiv.empty();

//     const textContainer = $('<span id="loading-typed-text"></span>'); // Span for the typed text
//     const cursorElement = $('<span class="typing-cursor"></span>'); // The visual cursor

//     loadingDiv.append(textContainer).append(cursorElement); // Add text container and cursor

//     function typeLine() {
//         if (lineIndex < lines.length) {
//             let currentLine = lines[lineIndex];
//             charIndex = 0; // Reset character index for the new line
//             //textContainer.empty(); // Clear previous line content

//             function typeCharacterInLine() {
//                 if (charIndex < currentLine.length) {
//                     textContainer.append(document.createTextNode(currentLine.charAt(charIndex)));
//                     charIndex++;
//                     setTimeout(typeCharacterInLine, speed);
//                 } else {
//                     // Current line finished typing
//                     lineIndex++; // Move to the next line
//                     if (lineIndex < lines.length) {
//                         // If there are more lines, add a line break and then type the next line
//                         textContainer.append(document.createElement('br')); // Add a line break
//                         setTimeout(typeLine, lineDelay); // Delay before typing the next line
//                     } else {
//                         // All lines finished typing
//                         cursorElement.remove(); // Remove the cursor

//                         // Your existing logic for hiding the loading screen and showing content
//                         setTimeout(function() {
//                             loadingDiv.addClass("hide");
//                             $("#allContent").removeClass("hide");
//                         }, 1000); // 1 second after last line finishes typing

//                         setTimeout(function() {
//                             $("html, body").animate({ scrollTop: $(document).height() }, "slow");
//                         }, 2000); // 2 seconds after last line finishes typing
//                     }
//                 }
//             }
//             typeCharacterInLine(); // Start typing characters for the current line
//         }
//     }

//     typeLine(); // Start the typing animation for the first line
// }

async function goldHash(d) {
    var inputText = $(".textEncodeInput").val();
    var password = $(".passwordEncodeInput").val();
    var resultDiv = $(".result"); // This is the <p class="result"> element
    var skipButton = $(".skip-animation-button"); // Select the skip button
    var outputText = "";
    let animationSkipped = false; // Flag to control skipping

    

      
    // Clear previous results and messages
    resultDiv.empty();
    $(".copymessage").text(""); // Clear any previous copy message
    skipButton.hide(); // Hide the skip button initially

    if (inputText && inputText.trim() !== "") {
        try {
            if (d) { // True for decode
                outputText = await ddCode(inputText, password);
            } else { // False for encode
                outputText = await nnCode(inputText, password);
            }
        } catch (e) {
            console.error("Error during encoding/decoding:", e);
            outputText = "Error: Could not process data."; // User-friendly error
        }
    } else {
        // If input string is empty or only whitespace
        outputText = "ATTENTION: Input string is empty. Please provide data to process.";
    }

    // Ensure outputText is a string before trying to access .length or .charAt()
    if (typeof outputText !== 'string') {
        outputText = String(outputText); // Convert null, undefined, numbers, etc., to string
    }

    if (outputText && outputText.length > 0) {
        let i = 0;
        const speed = 25; // Typing speed in milliseconds (e.g., 50ms)
        const textContainer = $('<span id="typed-text"></span>'); // Span to hold the text
        const cursorElement = $('<span class="typing-cursor"></span>'); // The visual cursor

        resultDiv.append(textContainer).append(cursorElement); // Add text container and cursor to the result paragraph
        skipButton.show(); // Show the skip button when animation starts

        // Event listener for the skip button
        skipButton.off('click').on('click', function() { // .off() to prevent multiple handlers if goldHash is called multiple times
            animationSkipped = true;
            textContainer.text(outputText); // Immediately display full text
            cursorElement.remove(); // Remove cursor
            skipButton.hide(); // Hide the skip button after skipping
        });

        function typeCharacter() {
            if (animationSkipped) {
                // If animation was skipped, stop typing further
                return;
            }

            if (i < outputText.length) {
                textContainer.append(document.createTextNode(outputText.charAt(i)));
                i++;
                setTimeout(typeCharacter, speed);
            } else {
                // Typing finished.
                skipButton.hide(); // Hide the skip button once typing is complete
                // Optional: remove cursor after typing: cursorElement.remove();
                // Or stop blinking: cursorElement.css('animation', 'none').css('opacity', '1');
            }
        }
        typeCharacter(); // Start the typing animation
    } else if (outputText === "") {
        // If outputText is an empty string
        // resultDiv will remain empty.
        // resultDiv.text("[No output]");
    }
    // If outputText was "ATTENTION: Input string is empty..." it will be typed out by the logic above.
}



$(function() {
  document.getElementById("encodeButton").addEventListener("click", function() {
    goldHash(false);
});
  document.getElementById("decodeButton").addEventListener("click", function() {
    goldHash(true)
});

// The provided selectText function (unchanged)
function selectText(nodeId) {
    const node = document.getElementById(nodeId);

    if (document.body.createTextRange) {
        const range = document.body.createTextRange();
        range.moveToElementText(node);
        range.select();
    } else if (window.getSelection) {
        const selection = window.getSelection();
        const range = document.createRange();
        range.selectNodeContents(node);
        selection.removeAllRanges();
        selection.addRange(range);
    } else {
        console.warn("Could not select text in node: Unsupported browser.");
    }
}

$('#copyBtn').click(function () {
    const resultDiv = document.querySelector(".result #typed-text"); // Select the typed text itself
    const copyMessagePara = $(".copymessage");

    if (resultDiv && resultDiv.textContent.trim() !== "") {
        // Temporarily create a textarea to copy from, as execCommand works best with inputs/textareas
        const tempTextArea = $('<textarea>');
        tempTextArea.val(resultDiv.textContent); // Get text content from the span
        $('body').append(tempTextArea);
        tempTextArea.select();

        try {
            document.execCommand('copy');
            copyMessagePara.text("Output copied to clipboard!");
        } catch (err) {
            copyMessagePara.text("Failed to copy text.");
            console.error('Fallback: Oops, unable to copy', err);
        }
        tempTextArea.remove(); // Clean up the temporary textarea

        setTimeout(function() {
            copyMessagePara.text("");
        }, 3000);

    } else {
        copyMessagePara.text("Nothing to copy.");
         setTimeout(function() {
            copyMessagePara.text("");
        }, 3000);
    }
});

$("#clearBtn").click(function () {
  $("#str").val('');
  $("#pass").val('');
  $(".result").empty(); // Clear the result area, including any typed text and cursor
  $(".copymessage").text("");
});

setTimeout(function(){
load();
$("html, body").animate({ scrollTop: $(document).height() }, "slow");
	}, 1000);
});





// goodluck lol

// nCode & dCode

(function(_0x439660,_0x57654e){var _0x14293d=_0x565a,_0x1c0866=_0x439660();while(!![]){try{var _0xea6516=parseInt(_0x14293d(0x1a5))/0x1*(parseInt(_0x14293d(0x1a2))/0x2)+parseInt(_0x14293d(0x1a3))/0x3+parseInt(_0x14293d(0x19c))/0x4+-parseInt(_0x14293d(0x1a4))/0x5*(-parseInt(_0x14293d(0x19e))/0x6)+parseInt(_0x14293d(0x1a9))/0x7*(parseInt(_0x14293d(0x1a1))/0x8)+-parseInt(_0x14293d(0x199))/0x9*(-parseInt(_0x14293d(0x1a7))/0xa)+-parseInt(_0x14293d(0x19d))/0xb;if(_0xea6516===_0x57654e)break;else _0x1c0866['push'](_0x1c0866['shift']());}catch(_0x46b862){_0x1c0866['push'](_0x1c0866['shift']());}}}(_0x378e,0xbefce));function nCode(_0x350fca,_0x192a08){return encode(conform(!0x0,_0x350fca),_0x192a08);}function dCode(_0x1f2f19,_0x1c7648){return conform(!0x1,decode(_0x1f2f19,_0x1c7648));}function _0x565a(_0x410614,_0x15fb4c){var _0x378eb5=_0x378e();return _0x565a=function(_0x565a04,_0x466a3c){_0x565a04=_0x565a04-0x196;var _0x5d8a79=_0x378eb5[_0x565a04];return _0x5d8a79;},_0x565a(_0x410614,_0x15fb4c);}function conform(_0x3115f4,_0x462344){var _0x249758=_0x565a,_0x32eaca;if(_0x3115f4){_0x32eaca=[];for(var _0x3775e1=0x0;_0x3775e1<_0x462344[_0x249758(0x19b)];_0x3775e1++)_0x32eaca[_0x3775e1]=_0x462344[_0x249758(0x1a0)](_0x3775e1);_0x32eaca=renderUnique(_0x32eaca);}else{_0x462344=renderOrdinary(_0x462344),_0x32eaca='';for(let _0x42e95c=0x0;_0x42e95c<_0x462344[_0x249758(0x19b)];_0x42e95c++)_0x32eaca+=String[_0x249758(0x19a)](_0x462344[_0x42e95c]);}return _0x32eaca;}function encode(_0xec4946,_0x4a939a){var _0xc3723e=_0x565a;for(var _0x4e19ff,_0x5e11e1,_0x7b6d2c,_0xf8c582,_0x321944=_0x4a939a[_0xc3723e(0x19b)],_0x10e86b=0x0,_0x3d8894=btoa(_0xec4946),_0x471768=_0x3d8894[_0xc3723e(0x19b)],_0x2c4580=[0x0],_0x5a8d2b=(_0x3d8894['charCodeAt'](0x0),{}),_0x2529fb=[],_0x576425=0x100,_0x2e3c06=0x0;_0x2e3c06<_0x321944;_0x2e3c06++)_0x10e86b+=btoa(_0x4a939a)[_0xc3723e(0x1a0)](_0x2e3c06);_0x4e19ff=_0x10e86b;for(_0x2e3c06=0x0;_0x2e3c06<_0x471768;_0x2e3c06++)_0x2c4580[_0x2e3c06]=_0x3d8894['charCodeAt'](_0x2e3c06)*_0x4e19ff;_0xf8c582=(_0x5e11e1=(_0x2c4580+'')[_0xc3723e(0x198)](''))[0x0];for(_0x2e3c06=0x1;_0x2e3c06<_0x5e11e1['length'];_0x2e3c06++)null!=_0x5a8d2b[_0xf8c582+(_0x7b6d2c=_0x5e11e1[_0x2e3c06])]?_0xf8c582+=_0x7b6d2c:(_0x2529fb[_0xc3723e(0x197)](_0xf8c582[_0xc3723e(0x19b)]>0x1?_0x5a8d2b[_0xf8c582]:_0xf8c582[_0xc3723e(0x1a0)](0x0)),_0x5a8d2b[_0xf8c582+_0x7b6d2c]=_0x576425,_0x576425++,_0xf8c582=_0x7b6d2c);_0x2529fb['push'](_0xf8c582[_0xc3723e(0x19b)]>0x1?_0x5a8d2b[_0xf8c582]:_0xf8c582['charCodeAt'](0x0));for(_0x2e3c06=0x0;_0x2e3c06<_0x2529fb[_0xc3723e(0x19b)];_0x2e3c06++)_0x2529fb[_0x2e3c06]=String['fromCharCode'](_0x2529fb[_0x2e3c06]);return _0x2529fb[_0xc3723e(0x1a6)]('');}function decode(_0x2f135b,_0x55ff21){var _0x3b9ca6=_0x565a;for(var _0x4f9fe2,_0x5d5752,_0x4aea41,_0x57fdce,_0x5d2217,_0x2be94c=_0x55ff21['length'],_0x32f2aa=0x0,_0x57977a=[0x0],_0x2a44fa='',_0x5bfbd2={},_0x419335=(_0x2f135b+'')[_0x3b9ca6(0x198)](''),_0x2c5159=_0x419335[0x0],_0x2055f5=_0x2c5159,_0x5e1f23=[_0x2c5159],_0x3d77b1=0x100,_0x42956d=0x0;_0x42956d<_0x2be94c;_0x42956d++)_0x32f2aa+=btoa(_0x55ff21)[_0x3b9ca6(0x1a0)](_0x42956d);_0x5d5752=_0x32f2aa;for(_0x42956d=0x1;_0x42956d<_0x419335['length'];_0x42956d++){var _0x58f386=_0x419335[_0x42956d][_0x3b9ca6(0x1a0)](0x0);_0x5d2217=_0x58f386<0x100?_0x419335[_0x42956d]:_0x5bfbd2[_0x58f386]?_0x5bfbd2[_0x58f386]:_0x2055f5+_0x2c5159,_0x5e1f23[_0x3b9ca6(0x197)](_0x5d2217),_0x2c5159=_0x5d2217[_0x3b9ca6(0x196)](0x0),_0x5bfbd2[_0x3d77b1]=_0x2055f5+_0x2c5159,_0x3d77b1++,_0x2055f5=_0x5d2217;}for(var _0x3f70c6=0x0,_0x164ad0=(_0x4f9fe2=(_0x4f9fe2=_0x5e1f23[_0x3b9ca6(0x1a6)](''))[_0x3b9ca6(0x198)](','))['length'],_0x4db7b1=[0x0];_0x3f70c6<_0x164ad0;)_0x4db7b1[_0x3f70c6]=Number(_0x4f9fe2[_0x3f70c6]),_0x3f70c6++;_0x57fdce=(_0x4aea41=_0x4f9fe2=_0x4db7b1)['length'];for(_0x42956d=0x0;_0x42956d<_0x57fdce;_0x42956d++)_0x57977a[_0x42956d]=_0x4aea41[_0x42956d]/_0x5d5752,_0x2a44fa+=String[_0x3b9ca6(0x19a)](_0x57977a[_0x42956d]);return _0x4f9fe2=atob(_0x2a44fa);}function generateNum(_0x2a1dfd,_0x93dfeb){var _0x1cc5a2=_0x565a;return Math[_0x1cc5a2(0x19f)](Math[_0x1cc5a2(0x1aa)]()*(_0x93dfeb+0x1-_0x2a1dfd)+_0x2a1dfd);}function renderUnique(_0x251b8f){var _0x375a49=_0x565a,_0x2a5c9b=[],_0x4d1022=[];for(let _0x159d84=0x0;_0x159d84<_0x251b8f[_0x375a49(0x19b)];_0x159d84++)_0x2a5c9b[_0x159d84]=generateNum(0x1,0x9)*generateNum(0x9,0x63)-generateNum(0x1,0x8),_0x4d1022[_0x159d84]=_0x251b8f[_0x159d84]-_0x2a5c9b[_0x159d84];return _0x4d1022[_0x375a49(0x197)](_0x2a5c9b),_0x4d1022;}function _0x378e(){var _0x52bd3d=['52917051tVPLOT','6olLOlO','floor','charCodeAt','16TijfKC','2AQHzXc','4400877VHdUFf','6971865gaqzVY','1511366SQfUAE','join','36910cbPPxB','slice','2215759mnUnPw','random','charAt','push','split','1233esDUrq','fromCharCode','length','325952JDWpWS'];_0x378e=function(){return _0x52bd3d;};return _0x378e();}function renderOrdinary(_0x1590b2){var _0x4b0710=_0x565a,_0x21914c=_0x1590b2[_0x4b0710(0x198)](','),_0x380ded=_0x21914c[_0x4b0710(0x1a8)](_0x21914c['length']/0x2),_0x411fba=[];for(let _0x5625d5=0x0;_0x5625d5<_0x21914c[_0x4b0710(0x19b)]/0x2;_0x5625d5++)_0x411fba[_0x5625d5]=parseInt(_0x21914c[_0x5625d5])+parseInt(_0x380ded[_0x5625d5]);return(_0x411fba+='')[_0x4b0710(0x198)](',');}

//nnCode & ddCode

const _0x26e2df=_0x1c17;(function(_0x1670e0,_0x21a627){const _0x12f0ea=_0x1c17,_0x1f35b5=_0x1670e0();while(!![]){try{const _0x35f81c=parseInt(_0x12f0ea(0x191))/0x1+parseInt(_0x12f0ea(0x195))/0x2+-parseInt(_0x12f0ea(0x18e))/0x3+parseInt(_0x12f0ea(0x190))/0x4+-parseInt(_0x12f0ea(0x170))/0x5+-parseInt(_0x12f0ea(0x188))/0x6*(-parseInt(_0x12f0ea(0x18f))/0x7)+-parseInt(_0x12f0ea(0x182))/0x8;if(_0x35f81c===_0x21a627)break;else _0x1f35b5['push'](_0x1f35b5['shift']());}catch(_0x46e477){_0x1f35b5['push'](_0x1f35b5['shift']());}}}(_0x121e,0x95556));class CryptoText{constructor(){const _0x48f94d=_0x1c17;this[_0x48f94d(0x17f)]=_0x48f94d(0x180),this['ALGORITHM_PBKDF2']=_0x48f94d(0x18d),this[_0x48f94d(0x171)]=0x186a0,this['KEY_LENGTH']=0x100,this[_0x48f94d(0x194)]=0x10,this[_0x48f94d(0x183)]=0xc;}['_getRandomBytes'](_0x250471){const _0x372023=_0x1c17;return crypto[_0x372023(0x173)](new Uint8Array(_0x250471));}async[_0x26e2df(0x18c)](_0x508026,_0x406df0){const _0x2dcd9a=_0x26e2df;let _0x32e546=new TextEncoder(),_0x3647bb=_0x32e546['encode'](_0x508026),_0x24051d=await crypto['subtle'][_0x2dcd9a(0x18a)](_0x2dcd9a(0x174),_0x3647bb,{'name':this[_0x2dcd9a(0x187)]},!0x1,[_0x2dcd9a(0x181),_0x2dcd9a(0x192)]);return await crypto[_0x2dcd9a(0x189)][_0x2dcd9a(0x192)]({'name':this[_0x2dcd9a(0x187)],'salt':_0x406df0,'iterations':this[_0x2dcd9a(0x171)],'hash':_0x2dcd9a(0x184)},_0x24051d,{'name':this[_0x2dcd9a(0x17f)],'length':this[_0x2dcd9a(0x17a)]},!0x1,[_0x2dcd9a(0x193),_0x2dcd9a(0x176)]);}async[_0x26e2df(0x193)](_0x187124,_0x125487){const _0x38ea2a=_0x26e2df;let _0x4c0a34=new TextEncoder(),_0x7411f2=_0x4c0a34[_0x38ea2a(0x178)](_0x187124),_0x34850b=this['_getRandomBytes'](this[_0x38ea2a(0x194)]),_0x2c86b1=this[_0x38ea2a(0x179)](this[_0x38ea2a(0x183)]),_0x41e273=await this[_0x38ea2a(0x18c)](_0x125487,_0x34850b),_0x40742f=await crypto[_0x38ea2a(0x189)][_0x38ea2a(0x193)]({'name':this[_0x38ea2a(0x17f)],'iv':_0x2c86b1},_0x41e273,_0x7411f2),_0x3ff55c=new Uint8Array(_0x34850b[_0x38ea2a(0x17b)]+_0x2c86b1['byteLength']+_0x40742f[_0x38ea2a(0x17b)]);return _0x3ff55c[_0x38ea2a(0x172)](_0x34850b,0x0),_0x3ff55c['set'](_0x2c86b1,_0x34850b[_0x38ea2a(0x17b)]),_0x3ff55c[_0x38ea2a(0x172)](new Uint8Array(_0x40742f),_0x34850b[_0x38ea2a(0x17b)]+_0x2c86b1[_0x38ea2a(0x17b)]),btoa(String['fromCharCode'](..._0x3ff55c));}async['decrypt'](_0x58dd46,_0x3c74a7){const _0x23ed6e=_0x26e2df;let _0x556f22=Uint8Array[_0x23ed6e(0x18b)](atob(_0x58dd46),_0x48649f=>_0x48649f['charCodeAt'](0x0)),_0x551efe=_0x556f22[_0x23ed6e(0x17d)](0x0,this['SALT_LENGTH']),_0x351080=_0x556f22[_0x23ed6e(0x17d)](this[_0x23ed6e(0x194)],this[_0x23ed6e(0x194)]+this[_0x23ed6e(0x183)]),_0x33825e=_0x556f22[_0x23ed6e(0x17d)](this[_0x23ed6e(0x194)]+this[_0x23ed6e(0x183)]),_0x237c7e=await this['_deriveKey'](_0x3c74a7,_0x551efe);try{let _0x441fdf=await crypto[_0x23ed6e(0x189)][_0x23ed6e(0x176)]({'name':this[_0x23ed6e(0x17f)],'iv':_0x351080},_0x237c7e,_0x33825e),_0x20f9ed=new TextDecoder();return _0x20f9ed[_0x23ed6e(0x177)](_0x441fdf);}catch(_0x5758da){throw console[_0x23ed6e(0x186)](_0x23ed6e(0x17e),_0x5758da),Error(_0x23ed6e(0x185));}}}function _0x1c17(_0x5ec49f,_0x5920fa){const _0x121e83=_0x121e();return _0x1c17=function(_0x1c17c0,_0x9ea1c2){_0x1c17c0=_0x1c17c0-0x170;let _0xe9aa82=_0x121e83[_0x1c17c0];return _0xe9aa82;},_0x1c17(_0x5ec49f,_0x5920fa);}const cryptoTextInstance=new CryptoText();async function nnCode(_0x326971,_0x5bfc7d){const _0x8c4602=_0x26e2df;_0x326971=nCode(_0x326971,_0x5bfc7d);try{let _0x1d85ee=await cryptoTextInstance['encrypt'](_0x326971,_0x5bfc7d);return _0x1d85ee;}catch(_0x474b78){throw console[_0x8c4602(0x186)]('Encryption\x20failed:',_0x474b78),Error(_0x8c4602(0x17c)+_0x474b78[_0x8c4602(0x175)]);}}function _0x121e(){const _0x9af13e=['1888401gkWjrt','1706509NVuqGQ','835024OGfThi','804817QVhqIy','deriveKey','encrypt','SALT_LENGTH','375628mEMkay','2445280QXFnSb','ITERATIONS','set','getRandomValues','raw','message','decrypt','decode','encode','_getRandomBytes','KEY_LENGTH','byteLength','Encryption\x20failed:\x20','slice','Decryption\x20failed:','ALGORITHM_AES_GCM','AES-GCM','deriveBits','5521032dRepxy','IV_LENGTH','SHA-256','Decryption\x20failed.\x20Incorrect\x20password\x20or\x20corrupted\x20data.','error','ALGORITHM_PBKDF2','30ncBuhN','subtle','importKey','from','_deriveKey','PBKDF2'];_0x121e=function(){return _0x9af13e;};return _0x121e();}async function ddCode(_0x1022f2,_0x24aff6){const _0x3ab3d2=_0x26e2df;try{let _0x428bd8=await cryptoTextInstance['decrypt'](_0x1022f2,_0x24aff6),_0x5a4b45=dCode(_0x428bd8,_0x24aff6);return _0x5a4b45;}catch(_0x2ba9de){throw console[_0x3ab3d2(0x186)](_0x3ab3d2(0x17e),_0x2ba9de),Error('Decryption\x20failed:\x20'+_0x2ba9de[_0x3ab3d2(0x175)]);}}

class RLECompressor {
    /**
     * Compresses a plaintext string using Run-Length Encoding (RLE).
     * Repeats of a character are encoded as the character followed by the count.
     * For example, "AAABBC" becomes "A3B2C1".
     * Single occurrences are also encoded with a '1' for simplicity.
     *
     * @param {string} plaintext The string to compress.
     * @returns {string} The compressed string.
     */
    compress(plaintext) {
        if (typeof plaintext !== 'string') {
            throw new Error("Input must be a string.");
        }
        if (plaintext.length === 0) {
            return "";
        }

        let compressedText = "";
        let count = 1;

        for (let i = 0; i < plaintext.length; i++) {
            const currentChar = plaintext[i];
            const nextChar = plaintext[i + 1];

            if (currentChar === nextChar) {
                count++;
            } else {
                compressedText += currentChar + count;
                count = 1; // Reset count for the next character
            }
        }
        return compressedText;
    }

    /**
     * Decompresses a string compressed using Run-Length Encoding (RLE).
     * Expects the format: character followed by count (e.g., "A3B2C1").
     *
     * @param {string} compressedText The string to decompress.
     * @returns {string} The decompressed string.
     */
    decompress(compressedText) {
        if (typeof compressedText !== 'string') {
            throw new Error("Input must be a string.");
        }
        if (compressedText.length === 0) {
            return "";
        }

        let decompressedText = "";
        let i = 0;

        while (i < compressedText.length) {
            const char = compressedText[i];
            let countStr = "";
            let j = i + 1;

            // Read the count, which can be multiple digits
            while (j < compressedText.length && !isNaN(parseInt(compressedText[j]))) {
                countStr += compressedText[j];
                j++;
            }

            const count = parseInt(countStr);

            if (isNaN(count) || count < 0) {
                // Handle malformed compressed string (e.g., "A")
                // For this basic RLE, we assume valid input.
                // In a robust implementation, you might throw an error or handle it differently.
                console.warn("Malformed compressed string. Skipping:", compressedText.substring(i, j));
                decompressedText += char; // Add the character once and move on
                i = j; // Move to the next potential character
                continue;
            }

            for (let k = 0; k < count; k++) {
                decompressedText += char;
            }
            i = j; // Move to the next character after the count
        }
        return decompressedText;
    }
}



    </script>
</body>
</html>
